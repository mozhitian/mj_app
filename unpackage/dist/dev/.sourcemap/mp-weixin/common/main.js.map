{"version":3,"sources":["webpack:///E:/phpstudy/WWW/aassdd/main.js","webpack:///E:/phpstudy/WWW/aassdd/App.vue?7bd4","webpack:///E:/phpstudy/WWW/aassdd/App.vue?1de3","webpack:///E:/phpstudy/WWW/aassdd/App.vue","webpack:///E:/phpstudy/WWW/aassdd/App.vue?40b7","webpack:///E:/phpstudy/WWW/aassdd/App.vue?bde9","webpack:///E:/phpstudy/WWW/aassdd/pages/websocker/demo1.vue?b85c","webpack:///E:/phpstudy/WWW/aassdd/pages/websocker/demo1.vue?5b16","webpack:///E:/phpstudy/WWW/aassdd/pages/websocker/demo1.vue?4d81","webpack:///E:/phpstudy/WWW/aassdd/pages/websocker/demo1.vue?0fc8","webpack:///E:/phpstudy/WWW/aassdd/pages/websocker/demo1.vue"],"names":["Vue","component","websocket","config","productionTip","prototype","MyClass","$store","store","pdf","apiServer","api","App","mpType","app","$mount","onLaunch","console","log","onShow","onHide","created","point","lianjie","state","zt","setTimeout","mounted","window","vue","methods","send","uni","sendSocketMessage","data","message","initwebsocket","onSocketMessage","res","mes","JSON","parse","type","obj","value","display","count","push","onSocketClose","connectSocket","url","onSocketOpen","getNetworkType","success","network","networkType","onNetworkStatusChange","isConnected","name","props","list","remain","closePopup","e","hh","stringify","check","i","length","j","$refs","popup","close","components","uniPopup","watch","handler","valArr","oldVal","val","arr","split","peo","gcmc","wtbh","getStorageSync","peoArr","my_name","dlzt","open","request","flag","method","dataType","header","fail","error","deep"],"mappings":"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","file":"common/main.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\r\nimport Vue from 'vue'\r\nimport App from './App'\r\n\r\nimport store from './store'\r\n\r\nimport MyClass from '@/common/com.js'\r\nimport websocket from \"./pages/websocker/demo1\";\r\n\r\nVue.component(\"websocket\",websocket);\r\nVue.config.productionTip = false\r\nVue.prototype.MyClass=MyClass\r\nVue.prototype.$store = store\r\n// Vue.prototype.apiServer='http://192.168.2.127:8081/my-projectphp/src'\r\nVue.prototype.pdf='http://192.168.2.127:8081/pdf.js/web/viewer.html?'\r\nVue.prototype.apiServer='http://192.168.2.106:8081/my-projectphp/src'\r\nVue.prototype.api='http://192.168.0.106:8081/dormphp/src'\r\nApp.mpType = 'app'\r\n\r\nconst app = new Vue({\r\n    ...App\r\n})\r\napp.$mount()","var render, staticRenderFns\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('7e24c56a', component.options)\n    } else {\n      api.reload('7e24c56a', component.options)\n    }\n    \n  }\n}\ncomponent.options.__file = \"phpstudy/WWW/aassdd/App.vue\"\nexport default component.exports","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"","\n// import websocket from \"pages/websocker/demo1.vue\";\nexport default {\n\t// components:{\n\t// \twebsocket\n\t// },\n\tonLaunch: function() {\n\t\tconsole.log('App Launch')\n\t},\n\tonShow: function() {\n\t\tconsole.log('App Show')\n\t},\n\tonHide: function() {\n\t\tconsole.log('App Hide')\n\t},\n\tcreated: function() {\n\t\tvar point=this;\n\t\tthis.lianjie();\n\t\tif(point.$store.state.zt)\n\t\t{\n\t\t\tsetTimeout(this.lianjie(), 2000) \n\t\t}else{\n\t\t\tconsole.log('未连接')\n\t\t}\n\t},\n\tmounted(){\n\t\twindow.vue = this\n\t},\n\tmethods:{\n\t\tsend() {\n\t\t\tvar point = this;\n\t\t\tuni.sendSocketMessage({\n\t\t\t\tdata: point.message\n\t\t\t});\n\t\t\t// this.$store.commit('change','')\n\t\t\t// console.log(point.$store.state.count)\n\t\t},\n\t\t//建立WebSocket连接\n\t\tinitwebsocket(){\n\t\t\tvar point = this;\n\t\t\tuni.onSocketMessage(function(res) {\n\t\t\t\tconsole.log(res.data);\n\t\t\t\tvar mes = JSON.parse(res.data);\n\t\t\t\t//如果消息是message类型，存入vuex值\n\t\t\t\tif (mes.type == 'message') {\n\t\t\t\t\tvar obj={\n\t\t\t\t\t\tvalue:mes.data,\n\t\t\t\t\t\tdisplay:true\n\t\t\t\t\t};\n\t\t\t\t\t// if(point.$store.state.count==undefined||point.$store.state.count==null){\n\t\t\t\t\t// \tpoint.$store.state.count=[];\t\t\t\t\t\n\t\t\t\t\t// }\n\t\t\t\t\tpoint.$store.state.count.push(obj);//存入vuex值\n\t\t\t\t}\n\n\t\t\t});\n\t\t\tuni.onSocketClose(function (res) {\n\t\t\t  console.log('WebSocket 已关闭！');\n\t\t\t  point.initwebsocket()\n\t\t\t});\n\t\t},\n\t\tlianjie(){\n\t\t\tvar point = this;\n\t\t\t//连接本地端口\n\t\t\tuni.connectSocket({\n\t\t\t\turl: 'ws://192.168.43.203:3000'\n\t\t\t});\n\t\t\t//监听握手\n\t\t\tuni.onSocketOpen(function(res) {\n\t\t\t\tconsole.log('WebSocket连接已打开！');\n\t\t\t\tpoint.$store.state.zt = 'websocket';\n\t\t\t});\n\t\t}\n\t},\n\tmounted(){\n\t\tvar point = this;\n\t\tthis.initwebsocket();\n\t\t//获取当前设备网络状态\n\t\tuni.getNetworkType({\n\t\t    success: function (res) {\n\t\t\t\tpoint.$store.state.network = res.networkType;\n\t\t\t\tconsole.log(point.$store.state.network);\n\t\t    }\n\t\t});\n\t\tuni.onNetworkStatusChange(function (res) {\n\t\t    // console.log(res.isConnected);\n\t\t    // console.log(res.networkType);\n\t\t\tpoint.$store.state.network = res.isConnected;\n\t\t\tconsole.log(point.$store.state.network);\n\t\t});\n\t}\n}\n","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin","import { render, staticRenderFns } from \"./demo1.vue?vue&type=template&id=2ecafe7c&name=websocket&\"\nimport script from \"./demo1.vue?vue&type=script&lang=js&\"\nexport * from \"./demo1.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('2ecafe7c', component.options)\n    } else {\n      api.reload('2ecafe7c', component.options)\n    }\n    module.hot.accept(\"./demo1.vue?vue&type=template&id=2ecafe7c&name=websocket&\", function () {\n      api.rerender('2ecafe7c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"phpstudy/WWW/aassdd/pages/websocker/demo1.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./demo1.vue?vue&type=template&id=2ecafe7c&name=websocket&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./demo1.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./demo1.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport uniPopup from \"@/components/uni-popup/uni-popup.vue\"\nexport default {\n\tname: \"websocket\",\n\tprops: {\n\t\tlist: {}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tvalue: '',\n\t\t\tremain:this.$store.state.count\n\t\t}\n\t},\n\tmethods: {\n\t\tclosePopup(e) {\n\t\t\tconsole.log(e);\n\t\t\tthis.hh=false;\n\t\t\tthis.remain[e].display=false;\n\t\t\tconsole.log(JSON.stringify(this.remain));\n\t\t\tthis.check();\n\t\t},\n\t\tcheck(){\n\t\t\tfor(var i=0;i<this.remain.length;i++){\n\t\t\t\tvar j=0;\n\t\t\t\tif(this.remain[i].display==true){\n\t\t\t\t\tj++\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(j==0){\n\t\t\t\tthis.$refs.popup.close();\n\t\t\t}\n\t\t}\n\t},\n\t// mounted() {\n\t// \tthis.$refs.popup.open()\n\t// },\n\tcomponents: {\n\t\tuniPopup\n\t},\n\twatch: {\n\t\t//消息推送\n\t\t// 进程提醒:送检委托-草稿箱提交,提醒试验部\n\t\t// 派工检测-收样-收样提交至试验草稿箱，提醒试验部\n\t\t// 派工检测-收样-延期提交至试验草稿箱，提醒试验部\n\t\t// 派工检测-试验-已完成提交到检测报告-草稿箱，提醒技术部\n\t\t// 检测报告-批准提交到项目结算的草稿箱，提醒财务部\n\t\t// 项目结算-草稿箱提交至待提交，提醒经办人\n\t\t//签名使用提醒\n\t\t'$store.state.count': {\n\t\t\thandler: function(valArr, oldVal) {\n\t\t\t\tif (valArr) {//valArr,数组嵌套对象，格式为[{value:\"\"}]\n\t\t\t\t\tfor(var j=0;j<valArr.length;j++){\n\t\t\t\t\t\tvar val=valArr[j].value;\n\t\t\t\t\t\tvar arr = (val||\"\").split(\"|\");\n\t\t\t\t\t\tvar type = arr[0];//类型\n\t\t\t\t\t\tvar peo = arr[1];//提醒人员，多个，格式为\"人员1;人员2;\"\n\t\t\t\t\t\tvar gcmc=arr[2];//工程名称\n\t\t\t\t\t\tvar wtbh=arr[3];//委托编号\n\t\t\t\t\t\tswitch (type) {//根据类型1至6筛选消息的内容\n\t\t\t\t\t\t\tcase '1':\n\t\t\t\t\t\t\t\tvar message = gcmc+':编号'+wtbh+'的任务待处理(收样-草稿)'\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase '2':\n\t\t\t\t\t\t\t\tvar message = gcmc+':编号'+wtbh+'的任务待处理(试验-草稿)'\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase '3':\n\t\t\t\t\t\t\t\tvar message = gcmc+':编号'+wtbh+'的任务待处理(检测-草稿)'\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase '4':\n\t\t\t\t\t\t\t\tvar message = gcmc+':编号'+wtbh+'的任务待处理(项目结算-签发结算)'\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase '5':\n\t\t\t\t\t\t\t\tvar message = gcmc+':编号'+wtbh+'的任务已完成，请催甲方缴费'\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase '6':\n\t\t\t\t\t\t\t\tvar message = gcmc+':'+peo+'在编号'+wtbh+'的任务中使用了您的签名'\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst value = uni.getStorageSync('setUserData');//读取缓存中的人员信息\n\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\tvar peoArr = (peo||'').split(\";\");//切割为数组\n\t\t\t\t\t\t\tfor (var i = 0; i < peoArr.length; i++) {\n\t\t\t\t\t\t\t\tif (value.my_name == peoArr[i]&&value.dlzt==true) {//提醒人员和登录人员的信息(名字)一致且人员处于登录状态\n\t\t\t\t\t\t\t\t\tthis.remain[j].value=message;\n\t\t\t\t\t\t\t\t\tthis.$refs.popup.open();\n\t\t\t\t\t\t\t\t\t//删除已读的消息\n\t\t\t\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\t\t\t\turl: this.apiServer + '/basicdata/components/message.php',\n\t\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\t\tflag:\"delect\",\n\t\t\t\t\t\t\t\t\t\t\ttype:type,\n\t\t\t\t\t\t\t\t\t\t\tpeo:peoArr[i],\n\t\t\t\t\t\t\t\t\t\t\twtbh:wtbh,\n\t\t\t\t\t\t\t\t\t\t\tgcmc:gcmc\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\t\t\t\tdataType: 'json',\n\t\t\t\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded', //POST头信息\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tfail: (error) => {\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// console.log(JSON.stringify(peoArr));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeep: true\n\t\t}\n\t}\n\n}\n"],"sourceRoot":""}